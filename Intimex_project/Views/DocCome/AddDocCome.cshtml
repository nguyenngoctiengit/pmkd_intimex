
@{
    ViewData["Title"] = "AddDocCome";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Data.Models.Trading_system.Document
<style>
    .custom-file-upload {
        border: 1px solid #161515;
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer;
        color: black;
    }
</style>
<div class="right_col" role="main" style="height:800px">
    <div class="">
        <div class="col-md-12 col-sm-12">
            <form method="post" asp-action="add_doccome" asp-controller="DocCome" enctype="multipart/form-data">

                <div class="x_panel">
                    <div class="x_title">
                        <h2>Thêm<small>văn bản đến</small></h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#">Settings 1</a>
                                    <a class="dropdown-item" href="#">Settings 2</a>
                                </div>
                            </li>
                            <li>
                                <a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        @{
                            if (TempData["alertMessage"] != null)
                            {
                                <div style="color:red;font-size:30px">
                                    @TempData["alertMessage"].ToString()
                                </div>
                            }
                        }
                        @{
                            if (TempData["alertMessage1"] != null)
                            {
                                <div style="color:red;font-size:30px">
                                    @TempData["alertMessage1"].ToString()
                                </div>
                            }
                        }
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <br />
                        @using (Html.DevExtreme().ValidationGroup())
                        {
                            <div class="form-group row">
                                <div class="form-group col-md-6">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="@Html.NameFor(m => m.DocLever)" value="0" checked>
                                        <label class="form-check-label" for="inlineRadio1">Văn bản thường</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="@Html.NameFor(m => m.DocLever)" value="1">
                                        <label class="form-check-label" for="inlineRadio2">Văn bản khẩn</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="@Html.NameFor(m => m.DocLever)" value="2">
                                        <label class="form-check-label" for="inlineRadio2">Văn bản mật</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-1 col-sm-1">Số VB đến</label>
                                    <div class="col-md-3 col-sm-3">
                                        @(Html.DevExtreme().TextBoxFor(m => m.NumberCome))
                                    </div>
                                    <label class="col-form-label col-md-1 col-sm-1">Ngày vb</label>
                                    <div class="col-md-3 col-sm-3">
                                        @Html.DevExtreme().DateBoxFor(m => m.DocDate)
                                    </div>
                                    <label class="col-form-label col-md-1 col-sm-1">Số tờ</label>
                                    <div class="col-md-3 col-sm-3">
                                        @Html.DevExtreme().TextBoxFor(m => m.NumberOfPage)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-1 col-sm-1">Số/ký hiệu VB</label>
                                    <div class="col-md-3 col-sm-3">
                                        @(Html.DevExtreme().TextBoxFor(m => m.NumberSign))
                                    </div>
                                    <label class="col-form-label col-md-1 col-sm-1">Ngày nhận</label>
                                    <div class="col-md-3 col-sm-3">
                                        @Html.DevExtreme().DateBoxFor(m => m.DateCome)
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-1 col-sm-1">Hình thức</label>
                                    <div class="col-md-3 col-sm-3">
                                        @(Html.DevExtreme().SelectBoxFor(m => m.DocTypeId).DataSource(d => d
                                                                                                .Mvc()
                                                                                                .Controller("lookup")
                                                                                                .LoadAction("getDoctype")
                                                                                                .LoadMode(DataSourceLoadMode.Raw)
                                                                                                .Key("DocTypeId"))
                                                                                            .DisplayExpr("TypeName")
                                                                                            .ValueExpr("DocTypeId")
                                                                                            .SearchEnabled(true))
                                    </div>
                                    <label class="col-form-label col-md-2 col-sm-2" style="width:auto">Nơi gửi CV</label>
                                    <div class="col-md-5 col-sm-5">
                                        @(Html.DevExtreme().SelectBoxFor(m => m.DocPlaceId).DataSource(d => d
                                                                                                .Mvc()
                                                                                                .LoadAction("getDocplace")
                                                                                                .Controller("lookup")
                                                                                                .LoadMode(DataSourceLoadMode.Raw)
                                                                                                .Key("DocPlaceId"))
                                                                                            .DisplayExpr("DocPlaceName")
                                                                                            .ValueExpr("DocPlaceId")
                                                                                            .SearchEnabled(true))

                                    </div>
                                    <div class="col-md-1 col-sm-1">
                                        @Html.DevExtreme().Button().Icon("plus")
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-1 col-sm-1"></label>
                                    <div class="col-md-9 col-sm-9">
                                        <textarea id="fileSelected" style="width:100%" disabled></textarea>
                                    </div>
                                    <div class="col-md-1 col-sm-1">
                                        <label class="custom-file-upload">
                                            <input type="file" id="fileUpload" onchange="uploadMultipleFile()" name="files" multiple hidden />
                                            <i class="fa fa-cloud-upload"></i>
                                        </label>
                                    </div>
                                    <div class="col-md-1 col-sm-1">
                                        @Html.DevExtreme().Button().Icon("fa fa-print")
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="form-group col-md-12">
                                    <div id="filelist">
                                        <!--show proccessbar-->
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row" style="margin-bottom:0px">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-12 col-sm-12">Tên và loại trích yếu văn bản</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-12 col-sm-12">
                                    @(Html.DevExtreme().TextAreaFor(m => m.Contents))
                                </div>
                            </div>
                            <div class="form-group row" style="margin-bottom:0px">
                                <div class="form-group col-md-12">
                                    <label class="col-form-label col-md-12 col-sm-12">Ghi chú</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-12 col-sm-12">
                                    @(Html.DevExtreme().TextBoxFor(m => m.Note))
                                </div>
                            </div>
                            <div class="ln_solid"></div>
                            <div class="form-group row">
                                <div class="col-md-9 col-sm-9  offset-md-5">
                                    @(Html.DevExtreme().Button()
                                        .ID("button")
                                        .Text("Submit")
                                        .Type(ButtonType.Success)
                                        .UseSubmitBehavior(true)
                                    )
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
         /* event submit form upload*/
    function uploadMultipleFile() {
        var fileUpload = document.getElementById('fileUpload');
        for (var i = 0; i < fileUpload.files.length; i++) {
            document.getElementById('fileSelected').value += fileUpload.files.item(i).name + '\n';
        }
    }




</script>

